<div class="container">
  <div class="card">
    <div class="card-header">Sign Up!</div>

    <div class="card-body">
      <form novalidate (ngSubmit)="save()" [formGroup]="passengerForm">
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="firstNameId"
            >First Name</label
          >
          <div class="col-md-8">
            <input
              class="form-control"
              id="firstNameId"
              type="text"
              placeholder="First Name (required)"
              formControlName="firstName"
              [ngClass]="{
                'is-invalid':
                  (passengerForm.get('firstName').touched ||
                    passengerForm.get('firstName').dirty) &&
                  !passengerForm.get('firstName').valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="passengerForm.get('firstName').errors?.required">
                Please enter your first name.
              </span>
              <span *ngIf="passengerForm.get('firstName').errors?.minlength">
                The first name must be longer than 3 characters.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="lastNameId"
            >Last Name</label
          >
          <div class="col-md-8">
            <input
              class="form-control"
              id="lastNameId"
              type="text"
              placeholder="Last Name (required)"
              formControlName="lastName"
              [ngClass]="{
                'is-invalid':
                  (passengerForm.get('lastName').touched ||
                    passengerForm.get('lastName').dirty) &&
                  !passengerForm.get('lastName').valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="passengerForm.get('lastName').errors?.required">
                Please enter your last name.
              </span>
              <span *ngIf="passengerForm.get('lastName').errors?.maxlength">
                The last name must be less than 50 characters.
              </span>
            </span>
          </div>
        </div>
        <div formGroupName="emailGroup">
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label" for="emailId">Email</label>
            <div class="col-md-8">
              <input
                class="form-control"
                id="emailId"
                type="email"
                placeholder="Email (required)"
                formControlName="email"
                [ngClass]="{
                  'is-invalid': passengerForm.get('emailGroup').errors ||
                    ((passengerForm.get('emailGroup.email').touched ||
                      passengerForm.get('emailGroup.email').dirty) &&
                    !passengerForm.get('emailGroup.email').valid)
                }"
              />
              <span class="invalid-feedback">
                <span
                  *ngIf="passengerForm.get('emailGroup.email').errors?.required"
                >
                  Please enter your email address.
                </span>
                <span
                  *ngIf="passengerForm.get('emailGroup.email').errors?.email"
                >
                  Please enter a valid email address.
                </span>
              </span>
            </div>
          </div>
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label" for="confirmEmailId"
              >Confirm Email</label
            >
            <div class="col-md-8">
              <input
                class="form-control"
                id="confirmEmailId"
                type="email"
                placeholder="Confirm Email (required)"
                formControlName="confirmEmail"
                [ngClass]="{
                  'is-invalid': passengerForm.get('emailGroup').errors ||
                    ((passengerForm.get('emailGroup.confirmEmail').touched ||
                      passengerForm.get('emailGroup.confirmEmail').dirty) &&
                    !passengerForm.get('emailGroup.confirmEmail').valid)
                }"
              />
              <span class="invalid-feedback">
                <span
                  *ngIf="passengerForm.get('emailGroup.email').errors?.required"
                >
                  Please confirm your email address.
                </span>
                <span
                  *ngIf="passengerForm.get('emailGroup').errors?.match"
                >
                  The confirmation email does not match your email address.
                </span>
              </span>
            </div>
          </div>
        </div>
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="phoneId">Phone</label>
          <div class="col-md-8">
            <input
              class="form-control"
              id="phoneId"
              type="tel"
              placeholder="Phone"
              formControlName="phone"
              [ngClass]="{
                'is-invalid': !passengerForm.get('phone').valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="passengerForm.get('phone').errors?.required">
                Please enter your phone number.
              </span>
            </span>
          </div>
        </div>
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label pt-0">Send Notifications</label>
          <div class="col-md-8">
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input
                  class="form-check-input"
                  type="radio"
                  value="email"
                  formControlName="notification"
                />
                Email
              </label>
            </div>
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input
                  class="form-check-input"
                  type="radio"
                  value="text"
                  formControlName="notification"
                />
                Text
              </label>
            </div>
          </div>
        </div>

        <!-- <div *ngIf="customer.sendCatalog">
              <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label pt-0">Address Type</label>
                <div class="col-md-8">
                  <div class="form-check form-check-inline">
                    <label class="form-check-label">
                      <input class="form-check-input"
                             id="addressType1Id"
                             type="radio"
                             value="home"
                             [(ngModel)]="customer.addressType"
                             name="addressType"> Home
                    </label>
                  </div>
                  <div class="form-check form-check-inline">
                    <label class="form-check-label">
                      <input class="form-check-input"
                             id="addressType1Id"
                             type="radio"
                             value="work"
                             [(ngModel)]="customer.addressType"
                             name="addressType"> Work
                    </label>
                  </div>
                  <div class="form-check form-check-inline">
                    <label class="form-check-label">
                      <input class="form-check-input"
                             id="addressType1Id"
                             type="radio"
                             value="other"
                             [(ngModel)]="customer.addressType"
                             name="addressType"> Other
                    </label>
                  </div>
                </div>
              </div>
      
              <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label"
                       for="street1Id">Street Address 1</label>
                <div class="col-md-8">
                  <input class="form-control"
                         id="street1Id"
                         type="text"
                         placeholder="Street address"
                         [(ngModel)]="customer.street1"
                         name="street1">
                </div>
              </div>
      
              <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label"
                       for="street2Id">Street Address 2</label>
                <div class="col-md-8">
                  <input class="form-control"
                         id="street2Id"
                         type="text"
                         placeholder="Street address (second line)"
                         [(ngModel)]="customer.street2"
                         name="street2">
                </div>
              </div>
      
              <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label"
                       for="cityId">City, State, Zip Code</label>
                <div class="col-md-3">
                  <input class="form-control"
                         id="cityId"
                         type="text"
                         placeholder="City"
                         [(ngModel)]="customer.city"
                         name="city">
                </div>
                <div class="col-md-3">
                  <select class="form-control"
                          id="stateId"
                          [(ngModel)]="customer.state"
                          name="state">
                    <option value=""
                            disabled
                            selected
                            hidden>Select a State...</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <input class="form-control"
                         id="zipId"
                         type="number"
                         placeholder="Zip Code"
                         [(ngModel)]="customer.zip"
                         name="zip">
                </div>
              </div>
            </div> -->

        <div class="form-group row mb-2">
          <div class="offset-md-2 col-md-4">
            <button
              class="btn btn-primary mr-3"
              type="submit"
              style="width: 80px"
              [title]="
                passengerForm.valid
                  ? 'Save your entered data'
                  : 'Disabled until the form data is valid'
              "
              [disabled]="!passengerForm.valid"
            >
              Save
            </button>
            <button
              class="btn btn-outline-secondary"
              type="button"
              (click)="populateData()"
            >
              Test Data
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <br />Dirty: {{ passengerForm.dirty }} <br />Touched:
  {{ passengerForm.touched }} <br />Valid: {{ passengerForm.valid }}
  <br />Value: {{ passengerForm.value | json }}
</div>
